# 🧠 思维导图AI助手 - 浏览器插件版

## 📖 简介

这是一个基于原思维导图AI生成器改造的浏览器插件版本，支持在任何网页上快速生成思维导图，并提供AI问答功能。

## ✨ 主要功能

- **🚀 快速生成思维导图**：输入文本或上传文件，AI自动生成结构化思维导图
- **🤖 AI问答对话**：点击思维导图节点，与AI进行深度对话
- **📄 多格式导出**：支持Markdown和PNG格式导出
- **📂 文件处理**：支持PDF、Word、图片等多种文件格式
- **🎯 页面集成**：在任何网页上选择文本快速生成思维导图
- **⌨️ 快捷键支持**：Ctrl+Shift+M 快速打开插件

## 🛠️ 安装方法

### 方法一：开发者模式安装（推荐）

1. **下载插件文件**
   - 确保 `extension` 文件夹包含所有必要文件

2. **打开Chrome扩展管理页面**
   - 在Chrome地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

3. **启用开发者模式**
   - 点击右上角的"开发者模式"开关

4. **加载插件**
   - 点击"加载已解压的扩展程序"
   - 选择 `extension` 文件夹
   - 插件将出现在扩展列表中

### 方法二：打包安装

1. **打包插件**
   ```bash
   # 在extension目录下执行
   zip -r mindmap-ai-extension.zip .
   ```

2. **安装打包文件**
   - 在Chrome扩展管理页面点击"加载已解压的扩展程序"
   - 选择打包的zip文件

## 🚀 使用方法

### 基础使用

1. **打开插件**
   - 点击浏览器工具栏中的插件图标 🧠
   - 或使用快捷键 `Ctrl+Shift+M`

2. **输入内容**
   - 在文本框中输入要分析的内容
   - 或点击"选择文件"上传文档

3. **生成思维导图**
   - 点击"🚀 生成思维导图"按钮
   - 等待AI处理完成

4. **AI问答**
   - 点击思维导图节点旁的💡图标
   - 与AI进行深度对话
   - 可以将AI回答添加为新的子节点

5. **导出结果**
   - 点击"📄 Markdown"导出文本格式
   - 点击"🖼️ PNG"导出图片格式

### 高级功能

#### 页面文本快速生成

1. **选择网页文本**
   - 在任意网页上选择一段文本（10字符以上）
   - 会出现"🧠 生成思维导图"提示

2. **快速生成**
   - 点击提示，自动打开插件并填入选中文本
   - 直接生成思维导图

#### 浮动按钮

- 每个页面右上角会显示🧠浮动按钮
- 点击可快速打开插件
- 支持拖拽移动位置

## ⚙️ 配置要求

### 后端服务

插件需要后端服务支持，请确保：

1. **启动后端服务**
   ```bash
   cd backend
   npm install
   npm start
   ```
   - 服务默认运行在 `http://localhost:3001`

2. **配置API密钥**
   - 在 `backend/.env` 文件中配置 `DEEPSEEK_API_KEY`
   - 或其他AI服务商的API密钥

### 浏览器权限

插件需要以下权限：
- `activeTab`：访问当前标签页
- `storage`：保存用户设置
- `scripting`：在页面中执行脚本
- `tabs`：管理标签页

## 🔧 技术架构

### 文件结构

```
extension/
├── manifest.json          # 插件配置文件
├── popup.html            # 弹窗界面
├── popup.css             # 弹窗样式
├── popup.js              # 弹窗逻辑
├── content.js            # 页面内容脚本
├── content.css           # 内容脚本样式
├── background.js         # 后台服务脚本
├── icons/                # 插件图标
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # 说明文档
```

### 核心功能

1. **Popup界面**：主要的用户交互界面
2. **Content Script**：页面集成和文本选择
3. **Background Script**：消息传递和插件管理
4. **API集成**：与后端服务通信

## 🐛 故障排除

### 常见问题

1. **插件无法加载**
   - 检查manifest.json格式是否正确
   - 确保所有文件路径正确
   - 查看Chrome控制台错误信息

2. **API调用失败**
   - 确保后端服务正在运行（http://localhost:3001）
   - 检查网络连接
   - 验证API密钥配置

3. **文件上传失败**
   - 检查文件大小（限制50MB）
   - 确认文件格式支持
   - 查看浏览器控制台错误

4. **思维导图不显示**
   - 检查内容是否为空
   - 确认AI服务可用
   - 查看网络请求状态

### 调试方法

1. **查看插件日志**
   - 右键插件图标 → 检查弹出内容
   - 打开开发者工具查看控制台

2. **检查权限**
   - 在 `chrome://extensions/` 中查看插件权限
   - 确认所有必要权限已授予

3. **网络调试**
   - 打开Chrome开发者工具
   - 查看Network标签页的API请求

## 📝 更新日志

### v1.0.0
- 初始版本发布
- 支持基础思维导图生成
- 集成AI问答功能
- 支持多格式导出
- 页面文本快速选择功能

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个插件！

## 📄 许可证

本项目采用MIT许可证。

---

🎉 享受使用思维导图AI助手浏览器插件！

